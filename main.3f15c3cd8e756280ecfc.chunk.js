(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,n){},"0785de3f40b134973d35":function(e,n,t){var a=t("ab039aecd4a1d4fedc0e").addLocaleData,o=t("58d82b287428be065a42"),i=t("7dd68a64079d1d4cd439");a(o);var r=function e(n,t){var a="en"!==n?e("en",i):{};return Object.keys(t).reduce(function(e,o){var i=t[o]||"en"===n?t[o]:a[o];return Object.assign(e,function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},o,i))},{})},s={en:r("en",i)};n.appLocales=["en"],n.formatTranslationMessages=r,n.translationMessages=s,n.DEFAULT_LOCALE="en"},"0cbc23df16a5c6ceec4d":function(e,n,t){e.exports=t.p+".htaccess"},1:function(e,n,t){t("5b15df55c1316f23e9d0"),e.exports=t("8b703812aa8ae3c41814")},"7676c9f821995972db75":function(e,n,t){(e.exports=t("c138e55a31f3f8960e99")(!1)).push([e.i,'.artwork-similarity-page {\n  padding: 0px;\n  width: 80%;\n  margin: 0px auto;\n  /* background: pink; */\n}\n\n.datasource {\n  color: #CCC;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 100%;\n  text-align: right;\n  font-size: 13px;\n  padding-right: 10px;\n  font-style: italic;\n}\n\nh1 {\n  margin-top: 30px;\n}\n\n.header {\n  position: relative;\n}\n\n.menus {\n  height: 100%;\n  /* background: red; */\n  right: 0;\n  top: 0;\n  position: absolute;\n}\n\n.project-description {\n  transform: translateY(40%);\n\n  display: block;\n  margin-left: 5px;\n  padding: 0 10px;\n  display: inline-block;\n  background: black;\n  color: white;\n  text-align: center;\n  font-size: 14px;\n  line-height: 30px;\n  font-weight: normal;\n  float: right;\n  text-decoration: none;\n  /* margin-bottom: 10px; */\n}\n\n.form {\n  font-size: 20px;\n}\n\n.form .dropdown {\n  margin-left: 20px;\n}\n\n.form select {\n  border: 1px solid;\n  margin-left: 10px;\n  padding: 5px;\n}\n\n.form input[type="text"] {\n  margin-top: 10px;\n  padding: 10px;\n  border: 1px solid #555;\n  width: 100%;\n}\n\n.form button {\n  float: right;\n  margin-top: 5px;\n  border: 2px solid;\n  padding: 5px 10px;\n  cursor: pointer;\n  /* background: red; */\n}\n\n.artwork-list {\n  /* background: gray; */\n  padding: 5px;\n  list-style: none;\n}\n\n.artwork-list li {\n  margin-bottom: 5px;\n  border: 2px solid;\n  padding: 10px;\n}\n\n.artwork {\n  /* background: green; */\n  float: left;\n  width: 40%;\n  overflow:hidden;\n  height: auto;\n  text-align: center;\n}\n\n.artwork-img {\n  margin: 40px 40px 0 40px;\n  border: 1px dashed #BBB;\n  width: 80%;\n}\n\n.artwork-details {\n  width: 100%;\n  /* background: red; */\n  padding: 0px 5px;\n  text-align: left;\n}\n\n.clear {\n  clear: both;\n}\n\n\n.sim-panel {\n  float: left;\n  width: 60%;\n  padding: 5px;\n}\n\n.sim-panel .title {\n  font-weight: bold;\n  text-align: left;\n  font-size: 20px;\n}\n\n.sim-list {\n  /* background: yellow; */\n  margin-top: 5px;\n  list-style: none;\n  padding: 0px;\n}\n\n.sim-list li {\n  border: 0px;\n  border-top: 2px solid gray;\n  margin-bottom: 10px;\n  padding: 5px;\n  position: relative;\n}\n\n.sim-img {\n  float: left;\n  width: 25%;\n  border: 1px dashed #bbb;\n}\n\n.sim-details {\n  float: left;\n  margin-left: 5px;\n  max-width: 60%;\n}\n\n.sim-details h3 {\n  margin: 5px 0px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n  max-height: 140px;\n}\n\n.sim-details .manipulate {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  background: red;\n  padding: 0 5px;\n  font-size: 12px;\n}\n\n.sim-score {\n  position: absolute;\n  display: block;\n  /* height: 100%; */\n  /* background: red; */\n  line-height: 100%;\n  text-align: right;\n  right: 10px;\n  top: 10px;\n}\n\n.sim-score .score {\n  margin-top: 10px;\n  font-size: 25px;\n  font-weight: bold;\n}\n',""])},"7dd68a64079d1d4cd439":function(e){e.exports=[]},"8b703812aa8ae3c41814":function(e,n,t){"use strict";t.r(n);t("8c8e4f08a118a28666b0");var a,o=t("8af190b70a6bc55c6f1b"),i=t.n(o),r=t("63f14ac74ce296f77f4d"),s=t.n(r),c=t("d7dd51e1bf6bfc2c9c3d"),d=t("accfe20dac886d57b695"),l=t("89fa59dfd48f288c4600"),u=t.n(l)()(),p=(t("6735bdf1a3a541ab43fd"),t("a70bf0347c3ff233dd99")),f=t.n(p),m=(t("ab039aecd4a1d4fedc0e"),t("c25d3de6a26e2dd439cd")),h=(t("beb33327b37b1e293560"),t("f210c2d1c0bcfe92a8c7"));function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n,t,o){a||(a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(n||0===r||(n={children:void 0}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===r)n.children=o;else if(r>1){for(var c=new Array(r),d=0;d<r;d++)c[d]=arguments[d+3];n.children=c}return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function v(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,n){return(w=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x=g("b",{},void 0,"Medium:"),j=g("b",{},void 0,"Dimensions:"),O=g("div",{className:"clear"}),S=g("b",{},void 0,"Medium:"),C=g("b",{},void 0,"Dimensions:"),N=g("span",{className:"title"},void 0,"Similar artworks"),D=g("div",{className:"clear"}),P=g("div",{className:"header"},void 0,g("h1",{},void 0,"Visually Similar Image Search Analysis Tool"),g("div",{className:"menus"},void 0,g("a",{className:"project-description",target:"_blank",href:"https://github.com/heytitle/visually-similar-image-search-analysis-tool"},void 0,"Github"),g("a",{className:"project-description",target:"_blank",href:"https://github.com/heytitle/visually-similar-image-search"},void 0,"Project Details"))),A=g("b",{},void 0,"Dataset"),_=g("b",{},void 0,"Features computed from"),M=g("div",{className:"clear"}),z=g("b",{},void 0,"Datasource:"),R=function(e){function n(e){var t,a,o;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(o=y(n).call(this,e))||"object"!==b(o)&&"function"!==typeof o?k(a):o).state={data:[],input:"",filter:"",dataset:"moma-artworks-1000",architecture:"vgg16",src:m.parse(location.search).s},t.handleChange=t.handleChange.bind(k(k(t))),t.handleClick=t.handleClick.bind(k(k(t))),t.handleChangeDataset=t.handleChangeDataset.bind(k(k(t))),t.handleChangeArchitecture=t.handleChangeArchitecture.bind(k(k(t))),t.takeRandomArtwork=t.takeRandomArtwork.bind(k(k(t))),t}var t,a,o;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&w(e,n)}(n,i.a.PureComponent),t=n,(a=[{key:"handleChange",value:function(e){var n=this;this.timeoutObject&&clearTimeout(this.timeoutObject);var t=e.target.value;console.log("something is typing ".concat(t)),this.setState({input:t}),this.timeoutObject=setTimeout(function(){console.log("Fire!!!!!11"),n.handleClick()},1500)}},{key:"handleChangeDataset",value:function(e){var n=this;this.setState({dataset:e.target.value,data:[]},function(){n.fetchData()})}},{key:"handleChangeArchitecture",value:function(e){var n=this;console.log(e.target.value),this.setState({architecture:e.target.value,data:[]},function(){n.fetchData()})}},{key:"handleClick",value:function(e){this.setState({filter:this.state.input})}},{key:"takeRandomArtwork",value:function(e){var n=Math.floor(Math.random()*this.state.data.length),t=this.state.data[n].artwork.title;this.setState({input:t,filter:t})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"buildSource",value:function(){return this.state.src?this.state.src:h.datasource.mapping["".concat(this.state.dataset,"--").concat(this.state.architecture)]}},{key:"fetchData",value:function(){var e=this,n=this.buildSource();console.log("fetching ".concat(n)),fetch(n).then(function(e){return e.json()}).then(function(n){e.setState({data:n})},function(e){alert("something strange is happening!")})}},{key:"render",value:function(){var e,n=this.state,t=n.filter,a=n.data;if(t){var o=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");e=a.filter(function(e){return e.artwork.title.match(new RegExp(o,"i"))}),e=f()(e,20)}else e=f()(a,20);var i=e.map(function(e,n){var t=f()(e.sims,5).map(function(e,n){return g("li",{},n,g("img",{src:e.image,className:"sim-img"}),g("div",{className:"sim-details"},void 0,g("h3",{},void 0,e.title),g("div",{},void 0,"by ",g("b",{},void 0,e.artist_name)),g("div",{},void 0,x," ",e.medium),g("div",{},void 0,j," ",e.dimensions),g("div",{className:"manipulate",title:"Manipulated by ".concat(e.manipulation_profile)},void 0,e.manipulation_profile)),g("div",{className:"sim-score"},void 0,"score ",g("div",{className:"score"},void 0,e.score.toFixed(4))),O)});return g("li",{},n,g("div",{className:"artwork"},void 0,g("img",{src:e.artwork.image,className:"artwork-img"}),g("div",{className:"artwork-details"},void 0,g("h2",{},void 0,e.artwork.title),g("h3",{},void 0,"by ",e.artwork.artist_name),g("div",{},void 0,S," ",e.artwork.medium),g("div",{},void 0,C," ",e.artwork.dimensions))),g("div",{className:"sim-panel"},void 0,N,g("ul",{className:"sim-list"},void 0,t)),D)}),r=h.datasource.datasets.map(function(e){return g("option",{value:e.key},e.key,e.desc)}),s=h.datasource.architectures.map(function(e){return g("option",{value:e.key},e.key,e.desc)});return g("div",{className:"artwork-similarity-page"},void 0,P,g("div",{className:"form"},void 0,!m.parse(location.search).s&&g("div",{},void 0,g("span",{className:"dropdown"},void 0,A,g("select",{defaultValue:this.state.dataset,onChange:this.handleChangeDataset},void 0,r)),g("span",{className:"dropdown"},void 0,_,g("select",{defaultValue:this.state.architecture,onChange:this.handleChangeArchitecture},void 0,s))),g("input",{type:"text",placeholder:"artwork's title",onChange:this.handleChange,value:this.state.input}),g("button",{onClick:this.takeRandomArtwork,value:"Update"},void 0,"Surpise me!"),M),g("div",{className:"datasource"},void 0,z," ",this.buildSource()),g("ul",{className:"artwork-list"},void 0,i))}}])&&v(t.prototype,a),o&&v(t,o),n}(),E=(t("9c6be9f00377ac8be3d8"),t("0cbc23df16a5c6ceec4d"),t("ab4cb61bcb2dc161defb")),T=t("54f683fcda7806277002"),$=t("74431d47afb6248fcb69"),L=t("4e2e9348dad8fe460c1d");function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(L.combineReducers)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){B(e,n,t[n])})}return e}({},e));return Object(d.connectRouter)(u)(n)}var I=Object($.a)();var V,G=t("0785de3f40b134973d35");function J(e,n,t,a){V||(V="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),n&&o)for(var r in o)void 0===n[r]&&(n[r]=o[r]);else n||(n=o||{});if(1===i)n.children=a;else if(i>1){for(var s=new Array(i),c=0;c<i;c++)s[c]=arguments[c+3];n.children=s}return{$$typeof:V,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=[I,Object(d.routerMiddleware)(n)],a=[E.applyMiddleware.apply(void 0,t)],o=E.compose,i=Object(E.createStore)(F(),Object(T.fromJS)(e),o.apply(void 0,a));return i.runSaga=I.run,i.injectedReducers={},i.injectedSagas={},i}({},u),Y=document.getElementById("app"),q=J(c.Provider,{store:U},void 0,J(d.ConnectedRouter,{history:u},void 0,J(R,{}))),H=function(e){s.a.render(q,Y)};window.Intl?H(G.translationMessages):new Promise(function(e){e(Promise.all([t.e(0),t.e(3)]).then(t.t.bind(null,"97694e21b72f8e9351c4",7)))}).then(function(){return Promise.all([t.e(0).then(t.t.bind(null,"f030ad8f70186ef5cb63",7))])}).then(function(){return H(G.translationMessages)}).catch(function(e){throw e}),t("30d14b3a3295666f3aba").install()},"9c6be9f00377ac8be3d8":function(e,n,t){e.exports=t.p+"favicon.ico"},beb33327b37b1e293560:function(e,n,t){var a=t("7676c9f821995972db75");"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t("1e4534d1d62a11482e97")(a,o);a.locals&&(e.exports=a.locals)},f210c2d1c0bcfe92a8c7:function(e,n){e.exports.datasource={datasets:[{key:"moma-artworks",desc:"MoMa Artwork (5000 Artworks)"},{key:"moma-artworks-1000",desc:"MoMa Artwork (1000 Artworks) with manipulation"}],architectures:[{key:"resnet152",desc:"ResNet152"},{key:"vgg16",desc:"VGG16"},{key:"densenet",desc:"DenseNet"}],mapping:{"moma-artworks-1000--vgg16":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-vgg16-moma-artworks-1000--2018-12-26-10-01-39.npy.json","moma-artworks-1000--resnet152":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-resnet152-moma-artworks-1000--2018-12-26-09-54-07.npy.json","moma-artworks-1000--densenet":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-densenet-moma-artworks-1000--2018-12-26-09-56-26.npy.json","moma-artworks--vgg16":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-vgg16-moma-artworks--2018-12-25-14-40-03.npy.json","moma-artworks--resnet152":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-resnet152-moma-artworks--2018-12-25-14-42-36.npy.json","moma-artworks--densenet":"https://s3.amazonaws.com/pchormai-public/artwork-similarity/nn-from-densenet-moma-artworks--2018-12-25-14-48-51.npy.json"}}}},[[1,2,0]]]);