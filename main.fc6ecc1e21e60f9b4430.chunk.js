(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t){},"0785de3f40b134973d35":function(e,t,n){var a=n("ab039aecd4a1d4fedc0e").addLocaleData,o=n("58d82b287428be065a42"),r=n("7dd68a64079d1d4cd439");a(o);var i=function e(t,n){var a="en"!==t?e("en",r):{};return Object.keys(n).reduce(function(e,o){var r=n[o]||"en"===t?n[o]:a[o];return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,r))},{})},s={en:i("en",r)};t.appLocales=["en"],t.formatTranslationMessages=i,t.translationMessages=s,t.DEFAULT_LOCALE="en"},"0cbc23df16a5c6ceec4d":function(e,t,n){e.exports=n.p+".htaccess"},1:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("8b703812aa8ae3c41814")},"7676c9f821995972db75":function(e,t,n){(e.exports=n("c138e55a31f3f8960e99")(!1)).push([e.i,'.artwork-similarity-page {\n  padding: 0px;\n  width: 80%;\n  margin: 0px auto;\n  /* background: pink; */\n}\n\n.datasource {\n  color: #CCC;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 100%;\n  text-align: right;\n  font-size: 13px;\n  padding-right: 10px;\n  font-style: italic;\n}\n\nh1 {\n  margin-top: 30px;\n}\n\n.header {\n  position: relative;\n}\n\n.menus {\n  height: 100%;\n  /* background: red; */\n  right: 0;\n  top: 0;\n  position: absolute;\n}\n\n.project-description {\n  transform: translateY(40%);\n\n  display: block;\n  margin-left: 5px;\n  /* border: 1px solid black; */\n  display: inline-block;\n  text-align: center;\n  line-height: 30px;\n  float: right;\n  background: black;\n  color: white;\n  padding: 0px 10px;\n  text-decoration: none;\n}\n\n.project-description:hover {\n  background: #333;\n}\n\n.form {\n  font-size: 20px;\n}\n\n.form .dropdown {\n  margin-left: 20px;\n}\n\n.form select {\n  border: 1px solid;\n  margin-left: 10px;\n  padding: 5px;\n}\n\n.form input[type="text"] {\n  margin-top: 10px;\n  padding: 10px;\n  border: 1px solid #555;\n  width: 100%;\n}\n\n.form button {\n  float: right;\n  margin-top: 5px;\n  border: 2px solid;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n\n.form button:hover {\n  background: black;\n  color: white;\n}\n\n.artwork-list {\n  /* background: gray; */\n  padding: 5px;\n  list-style: none;\n}\n\n.artwork-list li {\n  margin-bottom: 5px;\n  border: 2px solid;\n  padding: 10px;\n}\n\n.artwork {\n  /* background: green; */\n  float: left;\n  width: 40%;\n  overflow:hidden;\n  height: auto;\n  text-align: center;\n}\n\n.artwork-img {\n  margin: 40px 40px 0 40px;\n  border: 1px dashed #BBB;\n  width: 80%;\n}\n\n.artwork-details {\n  width: 100%;\n  /* background: red; */\n  padding: 0px 5px;\n  text-align: left;\n}\n\n.clear {\n  clear: both;\n}\n\n\n.sim-panel {\n  float: left;\n  width: 60%;\n  padding: 5px;\n}\n\n.sim-panel .title {\n  font-weight: bold;\n  text-align: left;\n  font-size: 20px;\n}\n\n.sim-list {\n  /* background: yellow; */\n  margin-top: 5px;\n  list-style: none;\n  padding: 0px;\n}\n\n.sim-list li {\n  border: 0px;\n  border-top: 2px solid gray;\n  margin-bottom: 10px;\n  padding: 5px;\n  position: relative;\n}\n\n.sim-img {\n  float: left;\n  width: 25%;\n  border: 1px dashed #bbb;\n}\n\n.sim-details {\n  float: left;\n  margin-left: 5px;\n  max-width: 60%;\n}\n\n.sim-details h3 {\n  margin: 5px 0px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n  max-height: 140px;\n}\n\n.sim-details .manipulate {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  background: red;\n  padding: 0 5px;\n  font-size: 12px;\n}\n\n.sim-score {\n  position: absolute;\n  display: block;\n  /* height: 100%; */\n  /* background: red; */\n  line-height: 100%;\n  text-align: right;\n  right: 10px;\n  top: 10px;\n}\n\n.sim-score .score {\n  margin-top: 10px;\n  font-size: 25px;\n  font-weight: bold;\n}\n',""])},"7dd68a64079d1d4cd439":function(e){e.exports=[]},"8b703812aa8ae3c41814":function(e,t,n){"use strict";n.r(t);n("8c8e4f08a118a28666b0");var a,o=n("8af190b70a6bc55c6f1b"),r=n.n(o),i=n("63f14ac74ce296f77f4d"),s=n.n(i),c=n("d7dd51e1bf6bfc2c9c3d"),l=n("accfe20dac886d57b695"),d=n("89fa59dfd48f288c4600"),u=n.n(d)()(),p=(n("6735bdf1a3a541ab43fd"),n("a70bf0347c3ff233dd99")),f=n.n(p),m=(n("ab039aecd4a1d4fedc0e"),n("c25d3de6a26e2dd439cd")),h=n("6643a48240e3ce4e96c0"),b=n("95257d7d9e906422e3cb"),g=(n("beb33327b37b1e293560"),n("f210c2d1c0bcfe92a8c7"));function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n,o){a||(a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=y("b",{},void 0,"Medium:"),S=y("b",{},void 0,"Dimensions:"),C=y("div",{className:"clear"}),N=y("b",{},void 0,"Medium:"),P=y("b",{},void 0,"Dimensions:"),D=y("span",{className:"title"},void 0,"Similar artworks"),_=y("div",{className:"clear"}),A=y("div",{className:"header"},void 0,y("h1",{},void 0,"Visually Similar Image Search"),y("div",{className:"menus"},void 0,y("a",{className:"project-description",target:"_blank",href:"https://github.com/heytitle/visually-similar-image-search"},void 0,y(h.a,{icon:b.a,size:"lg"})),y("a",{className:"project-description",target:"_blank",href:"https://github.com/heytitle/visually-similar-image-search#motivation"},void 0,"Project Details"))),M=y("b",{},void 0,"Dataset"),R=y("b",{},void 0,"Features computed from"),E=y("div",{className:"clear"}),L=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(o=k(t).call(this,e))||"object"!==v(o)&&"function"!==typeof o?j(a):o).state={data:[],input:"",filter:"",dataset:"moma-artworks",architecture:"vgg16",src:m.parse(location.search).s},n.handleChange=n.handleChange.bind(j(j(n))),n.handleClick=n.handleClick.bind(j(j(n))),n.handleChangeDataset=n.handleChangeDataset.bind(j(j(n))),n.handleChangeArchitecture=n.handleChangeArchitecture.bind(j(j(n))),n.takeRandomArtwork=n.takeRandomArtwork.bind(j(j(n))),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"handleChange",value:function(e){var t=this;this.timeoutObject&&clearTimeout(this.timeoutObject);var n=e.target.value;console.log("something is typing ".concat(n)),this.setState({input:n}),this.timeoutObject=setTimeout(function(){console.log("Fire!!!!!11"),t.handleClick()},1500)}},{key:"handleChangeDataset",value:function(e){var t=this;this.setState({dataset:e.target.value,data:[]},function(){t.fetchData()})}},{key:"handleChangeArchitecture",value:function(e){var t=this;console.log(e.target.value),this.setState({architecture:e.target.value,data:[]},function(){t.fetchData()})}},{key:"handleClick",value:function(e){this.setState({filter:this.state.input})}},{key:"takeRandomArtwork",value:function(e){var t=Math.floor(Math.random()*this.state.data.length),n=this.state.data[t].artwork.title;this.setState({input:n,filter:n})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"buildSource",value:function(){return this.state.src?this.state.src:g.datasource.mapping["".concat(this.state.dataset,"--").concat(this.state.architecture)]}},{key:"fetchData",value:function(){var e=this,t=this.buildSource();console.log("fetching ".concat(t)),fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({data:t})},function(e){alert("something strange is happening!")})}},{key:"render",value:function(){var e,t=this.state,n=t.filter,a=t.data;if(n){var o=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");e=a.filter(function(e){return e.artwork.title.match(new RegExp(o,"i"))}),e=f()(e,20)}else e=f()(a,20);var r=e.map(function(e,t){var n=f()(e.sims,5).map(function(e,t){return y("li",{},t,y("img",{src:e.image,className:"sim-img"}),y("div",{className:"sim-details"},void 0,y("h3",{},void 0,e.title),y("div",{},void 0,"by ",y("b",{},void 0,e.artist_name)),y("div",{},void 0,O," ",e.medium),y("div",{},void 0,S," ",e.dimensions),y("div",{className:"manipulate",title:"Manipulated by ".concat(e.manipulation_profile)},void 0,e.manipulation_profile)),y("div",{className:"sim-score"},void 0,"score ",y("div",{className:"score"},void 0,e.score.toFixed(4))),C)});return y("li",{},t,y("div",{className:"artwork"},void 0,y("img",{src:e.artwork.image,className:"artwork-img"}),y("div",{className:"artwork-details"},void 0,y("h2",{},void 0,e.artwork.title),y("h3",{},void 0,"by ",e.artwork.artist_name),y("div",{},void 0,N," ",e.artwork.medium),y("div",{},void 0,P," ",e.artwork.dimensions))),y("div",{className:"sim-panel"},void 0,D,y("ul",{className:"sim-list"},void 0,n)),_)}),i=g.datasource.datasets.map(function(e){return y("option",{value:e.key},e.key,e.desc)}),s=g.datasource.architectures.map(function(e){return y("option",{value:e.key},e.key,e.desc)});return y("div",{className:"artwork-similarity-page"},void 0,A,y("div",{className:"form"},void 0,!m.parse(location.search).s&&y("div",{},void 0,y("span",{className:"dropdown"},void 0,M,y("select",{defaultValue:this.state.dataset,onChange:this.handleChangeDataset},void 0,i)),y("span",{className:"dropdown"},void 0,R,y("select",{defaultValue:this.state.architecture,onChange:this.handleChangeArchitecture},void 0,s))),y("input",{type:"text",placeholder:"artwork's title",onChange:this.handleChange,value:this.state.input}),y("button",{onClick:this.takeRandomArtwork,value:"Update"},void 0,"Surpise me!"),E),y("div",{className:"datasource"},void 0,y("b",{},void 0,a.length>0?"Loaded ":"Loading ","data from\xa0"),this.buildSource()),y("ul",{className:"artwork-list"},void 0,r))}}])&&w(n.prototype,a),o&&w(n,o),t}(),z=(n("9c6be9f00377ac8be3d8"),n("0cbc23df16a5c6ceec4d"),n("ab4cb61bcb2dc161defb")),T=n("54f683fcda7806277002"),$=n("74431d47afb6248fcb69"),B=n("4e2e9348dad8fe460c1d");function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(B.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){F(e,t,n[t])})}return e}({},e));return Object(l.connectRouter)(u)(t)}var V=Object($.a)();var J,G=n("0785de3f40b134973d35");function U(e,t,n,a){J||(J="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===r)t.children=a;else if(r>1){for(var s=new Array(r),c=0;c<r;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:J,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[V,Object(l.routerMiddleware)(t)],a=[z.applyMiddleware.apply(void 0,n)],o=z.compose,r=Object(z.createStore)(I(),Object(T.fromJS)(e),o.apply(void 0,a));return r.runSaga=V.run,r.injectedReducers={},r.injectedSagas={},r}({},u),q=document.getElementById("app"),H=U(c.Provider,{store:Y},void 0,U(l.ConnectedRouter,{history:u},void 0,U(L,{}))),K=function(e){s.a.render(H,q)};window.Intl?K(G.translationMessages):new Promise(function(e){e(Promise.all([n.e(0),n.e(3)]).then(n.t.bind(null,"97694e21b72f8e9351c4",7)))}).then(function(){return Promise.all([n.e(0).then(n.t.bind(null,"f030ad8f70186ef5cb63",7))])}).then(function(){return K(G.translationMessages)}).catch(function(e){throw e}),n("30d14b3a3295666f3aba").install()},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"},beb33327b37b1e293560:function(e,t,n){var a=n("7676c9f821995972db75");"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,o);a.locals&&(e.exports=a.locals)},f210c2d1c0bcfe92a8c7:function(e,t){e.exports.datasource={datasets:[{key:"moma-artworks",desc:"MoMa Artwork (5000 Artworks)"},{key:"moma-artworks-1000",desc:"MoMa Artwork (1000 Artworks) with manipulation"}],architectures:[{key:"resnet152",desc:"ResNet152"},{key:"vgg16",desc:"VGG16"},{key:"densenet",desc:"DenseNet"}],mapping:{"moma-artworks-1000--vgg16":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-vgg16-moma-artworks-1000--2018-12-26-10-01-39.npy.json","moma-artworks-1000--resnet152":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-resnet152-moma-artworks-1000--2018-12-26-09-54-07.npy.json","moma-artworks-1000--densenet":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-densenet-moma-artworks-1000--2018-12-26-09-56-26.npy.json","moma-artworks--vgg16":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-vgg16-moma-artworks--2018-12-25-14-40-03.npy.json","moma-artworks--resnet152":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-resnet152-moma-artworks--2018-12-25-14-42-36.npy.json","moma-artworks--densenet":"https://raw.githubusercontent.com/heytitle/visually-similar-image-search/master/results/nn-from-densenet-moma-artworks--2018-12-25-14-48-51.npy.json"}}}},[[1,2,0]]]);